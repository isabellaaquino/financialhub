{"ast":null,"code":"var _jsxFileName = \"D:\\\\Workspace\\\\financialhub\\\\frontend\\\\src\\\\context\\\\AuthContext.tsx\",\n  _s = $RefreshSig$();\nimport { createContext, useState } from \"react\";\nimport { api } from \"../api/services/Api\";\nimport authService from \"../api/services/AuthService\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst AuthContext = /*#__PURE__*/createContext({});\nexport const AuthProvider = _ref => {\n  _s();\n  let {\n    children\n  } = _ref;\n  let [authTokens, setAuthTokens] = useState(null);\n  let [loggedUser, setLoggedUser] = useState(null);\n  async function SignIn(email, password) {\n    const response = await authService.signIn(email, password);\n    if (response != null) {\n      setLoggedUser({\n        firstname: response.firstname,\n        lastname: response.lastname,\n        token: response.token,\n        email: response.email,\n        avatar: response.avatar\n      });\n      api.defaults.headers.Authorization = `Bearer ${response.token}`;\n    }\n  }\n  async function SignOut() {\n    setLoggedUser(null);\n  }\n  return /*#__PURE__*/_jsxDEV(AuthContext.Provider, {\n    value: {\n      user: loggedUser,\n      setLoggedUser,\n      isAuthenticated: Boolean(loggedUser),\n      SignIn,\n      SignOut\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 42,\n    columnNumber: 5\n  }, this);\n};\n_s(AuthProvider, \"8LNmJJKC8ZdB+59A1ou7hpCTA+A=\");\n_c = AuthProvider;\nexport default AuthContext;\nvar _c;\n$RefreshReg$(_c, \"AuthProvider\");","map":{"version":3,"names":["createContext","useState","api","authService","AuthContext","AuthProvider","children","authTokens","setAuthTokens","loggedUser","setLoggedUser","SignIn","email","password","response","signIn","firstname","lastname","token","avatar","defaults","headers","Authorization","SignOut","user","isAuthenticated","Boolean"],"sources":["D:/Workspace/financialhub/frontend/src/context/AuthContext.tsx"],"sourcesContent":["import { createContext, useState } from \"react\";\r\nimport { api } from \"../api/services/Api\";\r\nimport authService from \"../api/services/AuthService\";\r\nimport { User } from \"../models/User\";\r\n\r\ninterface AuthContextData {\r\n  user: User | null;\r\n  setLoggedUser: any;\r\n  SignIn(email: string, password: string): void;\r\n  SignOut(): void;\r\n  isAuthenticated: boolean;\r\n}\r\n\r\ninterface Props {\r\n  children: React.ReactNode;\r\n}\r\n\r\nconst AuthContext = createContext<AuthContextData>({} as AuthContextData);\r\nexport const AuthProvider = ({ children }: Props) => {\r\n  let [authTokens, setAuthTokens] = useState(null);\r\n  let [loggedUser, setLoggedUser] = useState<User | null>(null);\r\n\r\n  async function SignIn(email: string, password: string) {\r\n    const response = await authService.signIn(email, password);\r\n    if (response != null) {\r\n      setLoggedUser({\r\n        firstname: response.firstname,\r\n        lastname: response.lastname,\r\n        token: response.token,\r\n        email: response.email,\r\n        avatar: response.avatar,\r\n      } as User);\r\n      api.defaults.headers.Authorization = `Bearer ${response.token}`;\r\n    }\r\n  }\r\n\r\n  async function SignOut() {\r\n    setLoggedUser(null);\r\n  }\r\n\r\n  return (\r\n    <AuthContext.Provider\r\n      value={{\r\n        user: loggedUser,\r\n        setLoggedUser,\r\n        isAuthenticated: Boolean(loggedUser),\r\n        SignIn,\r\n        SignOut,\r\n      }}\r\n    >\r\n      {children}\r\n    </AuthContext.Provider>\r\n  );\r\n};\r\nexport default AuthContext;\r\n"],"mappings":";;AAAA,SAASA,aAAa,EAAEC,QAAQ,QAAQ,OAAO;AAC/C,SAASC,GAAG,QAAQ,qBAAqB;AACzC,OAAOC,WAAW,MAAM,6BAA6B;AAAC;AAetD,MAAMC,WAAW,gBAAGJ,aAAa,CAAkB,CAAC,CAAC,CAAoB;AACzE,OAAO,MAAMK,YAAY,GAAG,QAAyB;EAAA;EAAA,IAAxB;IAAEC;EAAgB,CAAC;EAC9C,IAAI,CAACC,UAAU,EAAEC,aAAa,CAAC,GAAGP,QAAQ,CAAC,IAAI,CAAC;EAChD,IAAI,CAACQ,UAAU,EAAEC,aAAa,CAAC,GAAGT,QAAQ,CAAc,IAAI,CAAC;EAE7D,eAAeU,MAAM,CAACC,KAAa,EAAEC,QAAgB,EAAE;IACrD,MAAMC,QAAQ,GAAG,MAAMX,WAAW,CAACY,MAAM,CAACH,KAAK,EAAEC,QAAQ,CAAC;IAC1D,IAAIC,QAAQ,IAAI,IAAI,EAAE;MACpBJ,aAAa,CAAC;QACZM,SAAS,EAAEF,QAAQ,CAACE,SAAS;QAC7BC,QAAQ,EAAEH,QAAQ,CAACG,QAAQ;QAC3BC,KAAK,EAAEJ,QAAQ,CAACI,KAAK;QACrBN,KAAK,EAAEE,QAAQ,CAACF,KAAK;QACrBO,MAAM,EAAEL,QAAQ,CAACK;MACnB,CAAC,CAAS;MACVjB,GAAG,CAACkB,QAAQ,CAACC,OAAO,CAACC,aAAa,GAAI,UAASR,QAAQ,CAACI,KAAM,EAAC;IACjE;EACF;EAEA,eAAeK,OAAO,GAAG;IACvBb,aAAa,CAAC,IAAI,CAAC;EACrB;EAEA,oBACE,QAAC,WAAW,CAAC,QAAQ;IACnB,KAAK,EAAE;MACLc,IAAI,EAAEf,UAAU;MAChBC,aAAa;MACbe,eAAe,EAAEC,OAAO,CAACjB,UAAU,CAAC;MACpCE,MAAM;MACNY;IACF,CAAE;IAAA,UAEDjB;EAAQ;IAAA;IAAA;IAAA;EAAA,QACY;AAE3B,CAAC;AAAC,GAnCWD,YAAY;AAAA,KAAZA,YAAY;AAoCzB,eAAeD,WAAW;AAAC;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}